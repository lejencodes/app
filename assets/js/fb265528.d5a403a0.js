"use strict";(self.webpackChunkapp_src=self.webpackChunkapp_src||[]).push([[2624],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>d});var n=a(67294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var o=n.createContext({}),c=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(o.Provider,{value:t},e.children)},h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,o=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),u=c(a),d=r,m=u["".concat(o,".").concat(d)]||u[d]||h[d]||l;return a?n.createElement(m,s(s({ref:t},p),{},{components:a})):n.createElement(m,s({ref:t},p))}));function d(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,s=new Array(l);s[0]=u;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i.mdxType="string"==typeof e?e:r,s[1]=i;for(var c=2;c<l;c++)s[c]=a[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},2256:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>s,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});var n=a(87462),r=(a(67294),a(3905));const l={},s=void 0,i={unversionedId:"programming/rancher-desktop/setup-elastic-search-and-kibana-open-source",id:"programming/rancher-desktop/setup-elastic-search-and-kibana-open-source",title:"setup-elastic-search-and-kibana-open-source",description:"\\---",source:"@site/docs/programming/rancher-desktop/setup-elastic-search-and-kibana-open-source.md",sourceDirName:"programming/rancher-desktop",slug:"/programming/rancher-desktop/setup-elastic-search-and-kibana-open-source",permalink:"/app/docs/programming/rancher-desktop/setup-elastic-search-and-kibana-open-source",draft:!1,tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Rancher Desktop",permalink:"/app/docs/category/rancher-desktop"},next:{title:"Selenium",permalink:"/app/docs/category/selenium"}},o={},c=[{value:"1. Setup Elasticsearch and Kibana",id:"1-setup-elasticsearch-and-kibana",level:3},{value:"2. Adding the Jetstack Helm Repository",id:"2-adding-the-jetstack-helm-repository",level:3},{value:"3. Updating Your Local Helm Chart Repository Cache",id:"3-updating-your-local-helm-chart-repository-cache",level:3},{value:"4. Installing Cert-Manager Helm Chart",id:"4-installing-cert-manager-helm-chart",level:3},{value:"5. Deploying Rancher Cluster Manager via Helm",id:"5-deploying-rancher-cluster-manager-via-helm",level:3},{value:"6. Retrieving the Rancher Dashboard Password",id:"6-retrieving-the-rancher-dashboard-password",level:3},{value:"7. Accessing the Rancher Dashboard",id:"7-accessing-the-rancher-dashboard",level:3},{value:"8. Adding the Elastic Helm Repository",id:"8-adding-the-elastic-helm-repository",level:3},{value:"9. Configuring Elasticsearch Deployment",id:"9-configuring-elasticsearch-deployment",level:3},{value:"10. Configuring Kibana Deployment",id:"10-configuring-kibana-deployment",level:3},{value:"11. Setting Up Ingress",id:"11-setting-up-ingress",level:3},{value:"12. Accessing Kibana",id:"12-accessing-kibana",level:3},{value:"13. Setting Up Port Forwarding in Rancher Desktop",id:"13-setting-up-port-forwarding-in-rancher-desktop",level:3}],p={toc:c};function h(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},p,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"-","--\nid: setup-elastic-search-and-kibana-open-source\ntitle: Setting up Elasticsearch and Kibana (Open Source)\ntags:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"kibana"),(0,r.kt)("li",{parentName:"ul"},"elastic-search"),(0,r.kt)("li",{parentName:"ul"},"rancher-desktop"),(0,r.kt)("li",{parentName:"ul"},"oss"),(0,r.kt)("li",{parentName:"ul"},"open-source"),(0,r.kt)("li",{parentName:"ul"},"setup\n","-","--")),(0,r.kt)("p",null,"#","#"," Introduction"),(0,r.kt)("p",null,"If you're eager to explore Elasticsearch, the renowned open-source search engine built upon the Lucene library, the best\nway to get started is by installing it on your local machine. While the\nofficial ",(0,r.kt)("a",{parentName:"p",href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/rpm.html"},"Elasticsearch website")," provides\ncomprehensive installation instructions, they may contain more details than necessary for beginners. In this guide,\nwe'll simplify the process for you."),(0,r.kt)("p",null,"#","#"," Step-by-Step Guide"),(0,r.kt)("h3",{id:"1-setup-elasticsearch-and-kibana"},"1. Setup Elasticsearch and Kibana"),(0,r.kt)("p",null,"For a detailed step-by-step guide on setting up Elasticsearch and Kibana, follow\nthis ",(0,r.kt)("a",{parentName:"p",href:"https://itnext.io/elasticsearch-kibana-on-k8s-w-rancher-desktop-rancher-cluster-manager-2-6-f155c86164c0"},"Setup Guide"),"\n."),(0,r.kt)("h3",{id:"2-adding-the-jetstack-helm-repository"},"2. Adding the Jetstack Helm Repository"),(0,r.kt)("p",null,"To start, add the Jetstack Helm repository to your Helm configuration:"),(0,r.kt)("p",null,"`","``shell\nhelm repo add jetstack ",(0,r.kt)("a",{parentName:"p",href:"https://charts.jetstack.io"},"https://charts.jetstack.io"),"\n","`","``"),(0,r.kt)("h3",{id:"3-updating-your-local-helm-chart-repository-cache"},"3. Updating Your Local Helm Chart Repository Cache"),(0,r.kt)("p",null,"Ensure that your local Helm chart repository cache is up-to-date:"),(0,r.kt)("p",null,"`","``shell\nhelm repo update\n","`","``"),(0,r.kt)("h3",{id:"4-installing-cert-manager-helm-chart"},"4. Installing Cert-Manager Helm Chart"),(0,r.kt)("p",null,"Cert-Manager is essential for managing TLS certificates. Install it using Helm:"),(0,r.kt)("p",null,"`","``shell\nhelm install cert-manager jetstack/cert-manager --namespace cert-manager --create-namespace --set installCRDs=true\n--version v1.9.1 --wait\n","`","``"),(0,r.kt)("h3",{id:"5-deploying-rancher-cluster-manager-via-helm"},"5. Deploying Rancher Cluster Manager via Helm"),(0,r.kt)("p",null,"Rancher Cluster Manager is a powerful tool for managing Kubernetes clusters. Deploy it with Helm:"),(0,r.kt)("p",null,"`",'``shell\nRANCHER_SERVER_HOSTNAME="rancher.localhost"\nhelm repo add rancher-latest ',(0,r.kt)("a",{parentName:"p",href:"https://releases.rancher.com/server-charts/latest"},"https://releases.rancher.com/server-charts/latest"),"\nhelm repo update\nkubectl create namespace cattle-system\nhelm install rancher rancher-latest/rancher --namespace cattle-system --set hostname=${RANCHER_SERVER_HOSTNAME} --set\nbootstrapPassword=admin --wait\n","`","``"),(0,r.kt)("h3",{id:"6-retrieving-the-rancher-dashboard-password"},"6. Retrieving the Rancher Dashboard Password"),(0,r.kt)("p",null,"To access the Rancher Dashboard, you'll need to retrieve the admin password:"),(0,r.kt)("p",null,"`","``shell\nkubectl get secret --namespace cattle-system bootstrap-secret -o\ngo-template='{{.data.bootstrapPassword|base64decode}}{{ \"\\n\" }}'\n","`","``"),(0,r.kt)("h3",{id:"7-accessing-the-rancher-dashboard"},"7. Accessing the Rancher Dashboard"),(0,r.kt)("p",null,"Visit the Rancher Dashboard at ",(0,r.kt)("a",{parentName:"p",href:"https://rancher.localhost/"},"Rancher Dashboard"),"."),(0,r.kt)("h3",{id:"8-adding-the-elastic-helm-repository"},"8. Adding the Elastic Helm Repository"),(0,r.kt)("p",null,"Add the Elastic Helm repository to your Helm configuration:"),(0,r.kt)("p",null,"`","``shell\nhelm repo add elastic ",(0,r.kt)("a",{parentName:"p",href:"https://helm.elastic.co"},"https://helm.elastic.co"),"\n","`","``"),(0,r.kt)("h3",{id:"9-configuring-elasticsearch-deployment"},"9. Configuring Elasticsearch Deployment"),(0,r.kt)("p",null,"Set up the Elasticsearch deployment using the following image:"),(0,r.kt)("p",null,"`","``shell\ndocker.elastic.co/elasticsearch/elasticsearch-oss:7.10.2\n","`","``"),(0,r.kt)("p",null,"Make sure to open ports ",(0,r.kt)("inlineCode",{parentName:"p"},"9200")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"9300")," and set the service type to Cluster IP. Additionally, add the following\nenvironment variable:"),(0,r.kt)("p",null,"`","``shell\ndiscovery.type=single-node\n","`","``"),(0,r.kt)("h3",{id:"10-configuring-kibana-deployment"},"10. Configuring Kibana Deployment"),(0,r.kt)("p",null,"Configure the Kibana deployment with the following image:"),(0,r.kt)("p",null,"`","``shell\ndocker.elastic.co/kibana/kibana-oss:7.10.2\n","`","``"),(0,r.kt)("p",null,"Open port ",(0,r.kt)("inlineCode",{parentName:"p"},"5601")," and set the service type to Cluster IP. Set the following environment variable to connect to\nElasticsearch:"),(0,r.kt)("p",null,"`","``shell\nELASTICSEARCH_HOSTS=http://es:9200\n","`","``"),(0,r.kt)("h3",{id:"11-setting-up-ingress"},"11. Setting Up Ingress"),(0,r.kt)("p",null,"For Kibana, set up an Ingress with the following details:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Namespace: es"),(0,r.kt)("li",{parentName:"ul"},"Name: kibana.rancher.localhost"),(0,r.kt)("li",{parentName:"ul"},"Rules.Request Host: kibana.rancher.localhost"),(0,r.kt)("li",{parentName:"ul"},"Rules.Pods.Path: /"),(0,r.kt)("li",{parentName:"ul"},"Rules.Pods.Target Service: kibana (select)"),(0,r.kt)("li",{parentName:"ul"},"Rules.Pods.Port: 5601 (select)")),(0,r.kt)("p",null,"For Elasticsearch, set up Ingress with the following details:"),(0,r.kt)("p",null,"`","``shell\nes.rancher.localhost\nPort 9200\n","`","``"),(0,r.kt)("h3",{id:"12-accessing-kibana"},"12. Accessing Kibana"),(0,r.kt)("p",null,"Access Kibana at ",(0,r.kt)("a",{parentName:"p",href:"http://kibana.rancher.localhost"},"Kibana"),"."),(0,r.kt)("h3",{id:"13-setting-up-port-forwarding-in-rancher-desktop"},"13. Setting Up Port Forwarding in Rancher Desktop"),(0,r.kt)("p",null,"Configure port forwarding according to your Elasticsearch and Kibana configurations."))}h.isMDXComponent=!0}}]);