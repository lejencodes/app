"use strict";(self.webpackChunkapp_src=self.webpackChunkapp_src||[]).push([[7360],{3870:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>c,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>l});var o=t(85893),s=t(11151);const i={slug:"changing-the-most-recent-commit",title:"Changing the Most Recent Commit",authors:["koficodes"],tags:["git","commit"]},c=void 0,a={permalink:"/app/blog/changing-the-most-recent-commit",source:"@site/blog/2022-03-02-changing-the-most-recent-commit.md",title:"Changing the Most Recent Commit",description:"The git commit --amend command allows you to change the most recent commit message.",date:"2022-03-02T00:00:00.000Z",formattedDate:"March 2, 2022",tags:[{label:"git",permalink:"/app/blog/tags/git"},{label:"commit",permalink:"/app/blog/tags/commit"}],readingTime:2.915,hasTruncateMarker:!1,authors:[{name:"koficodes",title:"Just a person",url:"https://koficodes.xyz",imageURL:"https://github.com/lejencodes.png",key:"koficodes"}],frontMatter:{slug:"changing-the-most-recent-commit",title:"Changing the Most Recent Commit",authors:["koficodes"],tags:["git","commit"]},unlisted:!1,prevItem:{title:"Ghost Error 500 Hosting on Heroku",permalink:"/app/blog/ghost-error-500-hosting-on-heroku"},nextItem:{title:"Python pip command",permalink:"/app/blog/python-pip-command"}},r={authorsImageUrls:[void 0]},l=[{value:"Not pushed commit",id:"not-pushed-commit",level:3},{value:"Pushed commit",id:"pushed-commit",level:3},{value:"Changing an Older or Multiple Commits",id:"changing-an-older-or-multiple-commits",level:2},{value:"Conclusion",id:"conclusion",level:2}];function d(e){const n={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"git commit --amend"})," command allows you to change the most recent commit message."]}),"\n",(0,o.jsx)(n.h3,{id:"not-pushed-commit",children:"Not pushed commit"}),"\n",(0,o.jsxs)(n.p,{children:["To change the message of the most recent commit that has not been pushed to the remote repository, commit it again using\nthe ",(0,o.jsx)(n.code,{children:"--amend"})," flag."]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Navigate to the repository directory in your terminal."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Run the following command to amend (change) the message of the latest commit:"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:'git commit --amend -m "New commit message."\n'})}),"\n",(0,o.jsx)(n.p,{children:"What the command does is overwriting the most recent commit with the new one."}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"-m"})," option allows you to write the new message on the command line without opening an editor session."]}),"\n",(0,o.jsx)(n.p,{children:"Before changing the commit message, you can also add other changes you previously forgot:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"git add .\n"})}),"\n",(0,o.jsx)(n.h3,{id:"pushed-commit",children:"Pushed commit"}),"\n",(0,o.jsx)(n.p,{children:"The amended (changed) commit is a new entity with a different SHA-1. The previous commit will no longer exist in the\ncurrent branch."}),"\n",(0,o.jsx)(n.p,{children:"Generally, you should avoid amending a commit that is already pushed as it may cause issues to people who based their\nwork on this commit. It is a good idea to consult your fellow developers before changing a pushed commit."}),"\n",(0,o.jsx)(n.p,{children:"If you changed the message of the most recently pushed commit, you would have to force push it."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Navigate to the repository."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Amend the message of the latest pushed commit:"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:'git commit --amend -m "New commit message."\n'})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"Force push to update the history of the remote repository:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"git push --force branch-name\n"})}),"\n",(0,o.jsx)(n.h2,{id:"changing-an-older-or-multiple-commits",children:"Changing an Older or Multiple Commits"}),"\n",(0,o.jsxs)(n.p,{children:["If you need to change the message of an older or multiple commits, you can use an interactive ",(0,o.jsx)(n.code,{children:"git rebase"})," to change one\nor more older commits."]}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"rebase"})," command rewrites the commit history, and it is strongly discouraged to rebase commits that are already\npushed to the remote Git repository."]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Navigate to the repository containing the commit message you want to change."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Type ",(0,o.jsx)(n.code,{children:"git rebase -i HEAD~N"}),", where ",(0,o.jsx)(n.code,{children:"N"})," is the number of commits to perform a rebase on. For example, if you want to\nchange the 4th and the 5th latest commits, you would type:"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"git rebase -i HEAD~5\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The command will display the latest ",(0,o.jsx)(n.code,{children:"X"})," commits in your default text editor:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"pick 43f8707f9 fix: update dependency json5 to ^2.1.1\npick cea1fb88a fix: update dependency verdaccio to ^4.3.3\npick aa540c364 fix: update dependency webpack-dev-server to ^3.8.2\npick c5e078656 chore: update dependency flow-bin to ^0.109.0\npick 11ce0ab34 fix: Fix spelling.\n\n# Rebase 7e59e8ead..11ce0ab34 onto 7e59e8ead (5 commands)\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsxs)(n.li,{children:["Move to the lines of the commit message you want to change and replace ",(0,o.jsx)(n.code,{children:"pick"})," with ",(0,o.jsx)(n.code,{children:"reword"}),":"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"reword 43f8707f9 fix: update dependency json5 to ^2.1.1\nreword cea1fb88a fix: update dependency verdaccio to ^4.3.3\npick aa540c364 fix: update dependency webpack-dev-server to ^3.8.2\npick c5e078656 chore: update dependency flow-bin to ^0.109.0\npick 11ce0ab34 fix: Fix spelling.\n\n# Rebase 7e59e8ead..11ce0ab34 onto 7e59e8ead (5 commands)\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Save the changes and close the editor."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"For each chosen commit, a new text editor window will open. Change the commit message, save the file, and close the\neditor."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"fix: update dependency json5 to ^2.1.1\n"})}),"\n",(0,o.jsxs)(n.ol,{start:"6",children:["\n",(0,o.jsx)(n.li,{children:"Force push the changes to the remote repository:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"git push --force branch-name\n"})}),"\n",(0,o.jsx)(n.h2,{id:"conclusion",children:"Conclusion"}),"\n",(0,o.jsxs)(n.p,{children:["To change the most recent commit message, use the ",(0,o.jsx)(n.code,{children:"git commit --amend"})," command. To change older or multiple commit\nmessages, use ",(0,o.jsx)(n.code,{children:"git rebase -i HEAD~N"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Don\u2019t amend pushed commits as it may potentially cause a lot of problems to your colleagues."})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>a,a:()=>c});var o=t(67294);const s={},i=o.createContext(s);function c(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);