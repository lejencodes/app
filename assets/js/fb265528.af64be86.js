"use strict";(self.webpackChunkapp_src=self.webpackChunkapp_src||[]).push([[2624],{3905:(e,t,a)=>{a.d(t,{Zo:()=>i,kt:()=>u});var r=a(67294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?s(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):s(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var c=r.createContext({}),p=function(e){var t=r.useContext(c),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},i=function(e){var t=p(e.components);return r.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},h=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,s=e.originalType,c=e.parentName,i=l(e,["components","mdxType","originalType","parentName"]),h=p(a),u=n,m=h["".concat(c,".").concat(u)]||h[u]||d[u]||s;return a?r.createElement(m,o(o({ref:t},i),{},{components:a})):r.createElement(m,o({ref:t},i))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var s=a.length,o=new Array(s);o[0]=h;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:n,o[1]=l;for(var p=2;p<s;p++)o[p]=a[p];return r.createElement.apply(null,o)}return r.createElement.apply(null,a)}h.displayName="MDXCreateElement"},2256:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>s,metadata:()=>l,toc:()=>p});var r=a(87462),n=(a(67294),a(3905));const s={id:"setup-elastic-search-and-kibana-open-source",title:"Setup Elastic Search And Kibana Open Source",tags:["kibana","elastic-search","rancher-desktop","oss","open-source","setup"]},o=void 0,l={unversionedId:"programming/rancher-desktop/setup-elastic-search-and-kibana-open-source",id:"programming/rancher-desktop/setup-elastic-search-and-kibana-open-source",title:"Setup Elastic Search And Kibana Open Source",description:"Intro",source:"@site/docs/programming/rancher-desktop/setup-elastic-search-and-kibana-open-source.md",sourceDirName:"programming/rancher-desktop",slug:"/programming/rancher-desktop/setup-elastic-search-and-kibana-open-source",permalink:"/app/docs/programming/rancher-desktop/setup-elastic-search-and-kibana-open-source",draft:!1,tags:[{label:"kibana",permalink:"/app/docs/tags/kibana"},{label:"elastic-search",permalink:"/app/docs/tags/elastic-search"},{label:"rancher-desktop",permalink:"/app/docs/tags/rancher-desktop"},{label:"oss",permalink:"/app/docs/tags/oss"},{label:"open-source",permalink:"/app/docs/tags/open-source"},{label:"setup",permalink:"/app/docs/tags/setup"}],version:"current",frontMatter:{id:"setup-elastic-search-and-kibana-open-source",title:"Setup Elastic Search And Kibana Open Source",tags:["kibana","elastic-search","rancher-desktop","oss","open-source","setup"]},sidebar:"tutorialSidebar",previous:{title:"Rancher Desktop",permalink:"/app/docs/category/rancher-desktop"},next:{title:"Selenium",permalink:"/app/docs/category/selenium"}},c={},p=[{value:"Intro",id:"intro",level:2},{value:"Setup Elastic Search And Kibana Open Source",id:"setup-elastic-search-and-kibana-open-source",level:2},{value:"Add The Jetstack Helm Repository",id:"add-the-jetstack-helm-repository",level:2},{value:"Update Your Local Helm Chart Repository Cache",id:"update-your-local-helm-chart-repository-cache",level:2},{value:"Install The Cert-manager Helm chart -",id:"install-the-cert-manager-helm-chart--",level:2},{value:"Deploy Rancher Cluster Manager via helm",id:"deploy-rancher-cluster-manager-via-helm",level:2},{value:"Get Password",id:"get-password",level:2},{value:"Visit Rancher Dashboard",id:"visit-rancher-dashboard",level:2},{value:"Add Elastic Repo",id:"add-elastic-repo",level:2},{value:"Set Deployment For Elastic Search",id:"set-deployment-for-elastic-search",level:2},{value:"Set Deployment For Kibana",id:"set-deployment-for-kibana",level:2},{value:"Set Ingress",id:"set-ingress",level:2},{value:"Set Ingress For ES",id:"set-ingress-for-es",level:2},{value:"Visit Kibana",id:"visit-kibana",level:2},{value:"Set Port-Forward At Rancher Desktop",id:"set-port-forward-at-rancher-desktop",level:2}],i={toc:p};function d(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,r.Z)({},i,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"intro"},"Intro"),(0,n.kt)("p",null,"If you're enthusiastic about acquiring knowledge in Elasticsearch, the widely known open source search engine originating from the open source Lucene library, then the best way is to install it on your computer. The procedure is clearly indicated on the ",(0,n.kt)("a",{parentName:"p",href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/rpm.html"},"Elasticsearch website"),", but the official directions provide more information than a newbie needs."),(0,n.kt)("h2",{id:"setup-elastic-search-and-kibana-open-source"},"Setup Elastic Search And Kibana Open Source"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"https://itnext.io/elasticsearch-kibana-on-k8s-w-rancher-desktop-rancher-cluster-manager-2-6-f155c86164c0\n")),(0,n.kt)("h2",{id:"add-the-jetstack-helm-repository"},"Add The Jetstack Helm Repository"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"helm repo add jetstack https://charts.jetstack.io\n")),(0,n.kt)("h2",{id:"update-your-local-helm-chart-repository-cache"},"Update Your Local Helm Chart Repository Cache"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"helm repo update\n")),(0,n.kt)("h2",{id:"install-the-cert-manager-helm-chart--"},"Install The Cert-manager Helm chart -"),(0,n.kt)("p",null,(0,n.kt)("a",{parentName:"p",href:"https://cert-manager.io/docs/installation/helm/"},"https://cert-manager.io/docs/installation/helm/")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"helm install cert-manager jetstack/cert-manager --namespace cert-manager --create-namespace --set installCRDs=true --version v1.9.1 --wait\n")),(0,n.kt)("h2",{id:"deploy-rancher-cluster-manager-via-helm"},"Deploy Rancher Cluster Manager via helm"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},'RANCHER_SERVER_HOSTNAME="rancher.localhost"\nhelm repo add rancher-latest https://releases.rancher.com/server-charts/latest\nhelm repo update\nkubectl create namespace cattle-system\nhelm install rancher rancher-latest/rancher --namespace cattle-system --set hostname=${RANCHER_SERVER_HOSTNAME} --set bootstrapPassword=admin --wait\n')),(0,n.kt)("h2",{id:"get-password"},"Get Password"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"kubectl get secret --namespace cattle-system bootstrap-secret -o go-template='{{.data.bootstrapPassword|base64decode}}{{ \"\\n\" }}'\n")),(0,n.kt)("h2",{id:"visit-rancher-dashboard"},"Visit Rancher Dashboard"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"https://rancher.localhost/\n")),(0,n.kt)("h2",{id:"add-elastic-repo"},"Add Elastic Repo"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"helm repo add elastic https://helm.elastic.co\n")),(0,n.kt)("h2",{id:"set-deployment-for-elastic-search"},"Set Deployment For Elastic Search"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"docker.elastic.co/elasticsearch/elasticsearch-oss:7.10.2\n")),(0,n.kt)("p",null,"Update the ports to open ",(0,n.kt)("inlineCode",{parentName:"p"},"9200")," and ",(0,n.kt)("inlineCode",{parentName:"p"},"9300")," and be sure to set the service type to Cluster IP\nAdd the env var"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"discovery.type=single-node\n")),(0,n.kt)("h2",{id:"set-deployment-for-kibana"},"Set Deployment For Kibana"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"docker.elastic.co/kibana/kibana-oss:7.10.2\n")),(0,n.kt)("p",null,"Update the ports to open ",(0,n.kt)("inlineCode",{parentName:"p"},"5601")," \u2014 set the service type to Cluster IP\nSet an env var for"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"ELASTICSEARCH_HOSTS=http://es:9200\n")),(0,n.kt)("h2",{id:"set-ingress"},"Set Ingress"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"Namespace: es\nName: kibana.rancher.localhost\nRules.Request Host: kibana.rancher.localhost\nRules.Pods.Path: /\nRules.Pods.Target Service: kibana (select)\nRules.Pods.Port: 5601 (select)\n")),(0,n.kt)("h2",{id:"set-ingress-for-es"},"Set Ingress For ES"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"es.rancher.localhost\nPort 9200\n")),(0,n.kt)("h2",{id:"visit-kibana"},"Visit Kibana"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"http://kibana.rancher.localhost\n")),(0,n.kt)("h2",{id:"set-port-forward-at-rancher-desktop"},"Set Port-Forward At Rancher Desktop"),(0,n.kt)("p",null,"Set according to ES and Kibana"))}d.isMDXComponent=!0}}]);