"use strict";(self.webpackChunkapp_src=self.webpackChunkapp_src||[]).push([[1079],{87703:(e,d,s)=>{s.r(d),s.d(d,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>t,metadata:()=>c,toc:()=>l});var r=s(85893),n=s(11151);const t={id:"setup-caddy-reverse-proxy",title:"Setup Caddy Reverse Proxy",tags:["raspberry-pi","setup","caddy"]},o=void 0,c={id:"homelab/setup-caddy-reverse-proxy",title:"Setup Caddy Reverse Proxy",description:"Add reverse proxy ip address to your services.",source:"@site/docs/homelab/setup-caddy-reverse-proxy.md",sourceDirName:"homelab",slug:"/homelab/setup-caddy-reverse-proxy",permalink:"/docs/homelab/setup-caddy-reverse-proxy",draft:!1,unlisted:!1,tags:[{label:"raspberry-pi",permalink:"/docs/tags/raspberry-pi"},{label:"setup",permalink:"/docs/tags/setup"},{label:"caddy",permalink:"/docs/tags/caddy"}],version:"current",frontMatter:{id:"setup-caddy-reverse-proxy",title:"Setup Caddy Reverse Proxy",tags:["raspberry-pi","setup","caddy"]},sidebar:"docsSidebar",previous:{title:"Generate Self Signing Cert",permalink:"/docs/homelab/generate-self-signing-cert"},next:{title:"Setup vaultwarden",permalink:"/docs/homelab/setup-vaultwarden"}},a={},l=[{value:"Check port listening",id:"check-port-listening",level:3},{value:"Install xcaddy for module building - need latest go version 1.20",id:"install-xcaddy-for-module-building---need-latest-go-version-120",level:2},{value:"docker caddy might need to build with custom module",id:"docker-caddy-might-need-to-build-with-custom-module",level:2}];function i(e){const d={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",...(0,n.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.p,{children:"Add reverse proxy ip address to your services."}),"\n",(0,r.jsxs)(d.p,{children:["File ",(0,r.jsx)(d.code,{children:"/etc/caddy/Caddyfile"})]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"domain.duckdns.org {\n        reverse_proxy 127.0.0.1:8080\n        tls {\n                dns duckdns {\n                        api_token your-token-here\n                }\n        }\n}\n## add more below\n"})}),"\n",(0,r.jsx)(d.h3,{id:"check-port-listening",children:"Check port listening"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"sudo netstat -ntulp | grep 80\n"})}),"\n",(0,r.jsx)(d.h2,{id:"install-xcaddy-for-module-building---need-latest-go-version-120",children:"Install xcaddy for module building - need latest go version 1.20"}),"\n",(0,r.jsx)(d.p,{children:"Need superuser access if you are using on DietPi"}),"\n",(0,r.jsxs)(d.p,{children:["Module : ",(0,r.jsx)(d.a,{href:"https://caddyserver.com/docs/modules/dns.providers.duckdns",children:"https://caddyserver.com/docs/modules/dns.providers.duckdns"})]}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"xcaddy build --with github.com/caddy-dns/duckdns\n"})}),"\n",(0,r.jsx)(d.p,{children:"Move built caddy binary to /usr/bin/caddy"}),"\n",(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-shell",children:"sudo mv caddy /usr/bin/caddy\n"})}),"\n",(0,r.jsx)(d.h2,{id:"docker-caddy-might-need-to-build-with-custom-module",children:"docker caddy might need to build with custom module"}),"\n",(0,r.jsx)(d.p,{children:(0,r.jsx)(d.a,{href:"https://hub.docker.com/_/caddy",children:"https://hub.docker.com/_/caddy"})})]})}function u(e={}){const{wrapper:d}={...(0,n.a)(),...e.components};return d?(0,r.jsx)(d,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},11151:(e,d,s)=>{s.d(d,{Z:()=>c,a:()=>o});var r=s(67294);const n={},t=r.createContext(n);function o(e){const d=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(d):{...d,...e}}),[d,e])}function c(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(t.Provider,{value:d},e.children)}}}]);