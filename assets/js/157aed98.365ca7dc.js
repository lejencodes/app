"use strict";(self.webpackChunkapp_src=self.webpackChunkapp_src||[]).push([[1739],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>d});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),s=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(r),d=a,h=u["".concat(c,".").concat(d)]||u[d]||m[d]||o;return r?n.createElement(h,i(i({ref:t},p),{},{components:r})):n.createElement(h,i({ref:t},p))}));function d(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=u;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<o;s++)i[s]=r[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},8408:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>s});var n=r(7462),a=(r(7294),r(3905));const o={id:"Git",title:"Git",tags:["Git"]},i=void 0,l={unversionedId:"mind-garden/Dev Notes/Tools/Git",id:"mind-garden/Dev Notes/Tools/Git",title:"Git",description:"Git Worktree",source:"@site/docs/mind-garden/Dev Notes/Tools/Git.md",sourceDirName:"mind-garden/Dev Notes/Tools",slug:"/mind-garden/Dev Notes/Tools/Git",permalink:"/docs/mind-garden/Dev Notes/Tools/Git",draft:!1,tags:[{label:"Git",permalink:"/docs/tags/git"}],version:"current",frontMatter:{id:"Git",title:"Git",tags:["Git"]},sidebar:"tutorialSidebar",previous:{title:"Git Worktree",permalink:"/docs/mind-garden/Dev Notes/Tools/Git Worktree"},next:{title:"Rider Multicursor Mac",permalink:"/docs/mind-garden/Dev Notes/Tools/Rider-Multicursor"}},c={},s=[{value:"Before doing a PR - clean up own branch",id:"before-doing-a-pr---clean-up-own-branch",level:2},{value:"Git delete local branch and remote",id:"git-delete-local-branch-and-remote",level:2},{value:"A new start?!",id:"a-new-start",level:2},{value:"Hard reset",id:"hard-reset",level:2},{value:"Remove commit",id:"remove-commit",level:2},{value:"View git aliases",id:"view-git-aliases",level:2},{value:"Cherry Pick",id:"cherry-pick",level:2},{value:"This command deletes branch references to remote branches that do not exist.",id:"this-command-deletes-branch-references-to-remote-branches-that-do-not-exist",level:2},{value:"To see local branches, run this command:",id:"to-see-local-branches-run-this-command",level:2},{value:"To see remote branches, run this command:",id:"to-see-remote-branches-run-this-command",level:2},{value:"To see all local and remote branches, run this command:",id:"to-see-all-local-and-remote-branches-run-this-command",level:2},{value:"Update fork of github",id:"update-fork-of-github",level:2},{value:"Git Clone Sub-folder",id:"git-clone-sub-folder",level:2},{value:"Create branch from",id:"create-branch-from",level:2}],p={toc:s};function m(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"/docs/mind-garden/Dev%20Notes/Tools/Git%20Worktree"},"Git Worktree"),"\n",(0,a.kt)("a",{parentName:"p",href:"/docs/mind-garden/Dev%20Notes/Tools/Git-Multiple-Repo"},"Git Multiple Repo")),(0,a.kt)("h1",{id:"git"},"Git"),(0,a.kt)("h2",{id:"before-doing-a-pr---clean-up-own-branch"},"Before doing a PR - clean up own branch"),(0,a.kt)("p",null,"Simply stay in uglyCommitBranch and do an interactive rebase: clean your commits there, and the force push that branch: your pull-request (if it existed before the rebase, a PR made from that branch) will update itself."),(0,a.kt)("p",null,"If there was no pull request yet, you still can push --force as long as nobody else was working on uglyCommitBranch (since it is your fork)."),(0,a.kt)("p",null,"That being said, if you want to stay in newFeature branch, then:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git merge --squash uglyCommitBranch\n")),(0,a.kt)("h2",{id:"git-delete-local-branch-and-remote"},"Git delete local branch and remote"),(0,a.kt)("p",null,"Delete a branch with :"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git branch -d <branch>\n")),(0,a.kt)("p",null,"delete a branch remotely:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git push <remote> --delete <branch>\n")),(0,a.kt)("h2",{id:"a-new-start"},"A new start?!"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'git reset $(git commit-tree HEAD^{tree} -m "A new start")\n\n')),(0,a.kt)("p",null,"Variation: New Repo from a Project Template"),(0,a.kt)("p",null,'This is useful to create the "initial commit" in a new project using another repository as the template/archetype/seed/skeleton. For example:'),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'cd my-new-project\n\ngit init\n\ngit fetch --depth=1 -n https://github.com/toolbear/panda.git\n\ngit reset --hard $(git commit-tree FETCH_HEAD^{tree} -m "initial commit")\n\n')),(0,a.kt)("h2",{id:"hard-reset"},"Hard reset"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git fetch origin\n\ngit reset --hard origin/integration\n\n")),(0,a.kt)("h2",{id:"remove-commit"},"Remove commit"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git rm --cached <file_to_remove_from_commit_<commit_id>_which_added_file>\n\ngit reset --soft HEAD~1\n")),(0,a.kt)("h2",{id:"view-git-aliases"},"View git aliases"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},'git config --get-regexp ^alias\\.\n\ngit config --global alias.alias "config --get-regexp ^alias\\."\n\ngit config --global alias.st status\n')),(0,a.kt)("h2",{id:"cherry-pick"},"Cherry Pick"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git fetch ssh://git@stash.mycompany.com:7999/repo_to_get_it_from.git branchToPickFrom && git cherry-pick 02a197e9533\n\ngit fetch [branch URL] [Branch to cherry-pick from] && git cherry-pick [commit ID]\n")),(0,a.kt)("h2",{id:"this-command-deletes-branch-references-to-remote-branches-that-do-not-exist"},"This command deletes branch references to remote branches that do not exist."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git remote prune origin\n")),(0,a.kt)("h2",{id:"to-see-local-branches-run-this-command"},"To see local branches, run this command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git branch\n")),(0,a.kt)("h2",{id:"to-see-remote-branches-run-this-command"},"To see remote branches, run this command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git branch -r\n")),(0,a.kt)("h2",{id:"to-see-all-local-and-remote-branches-run-this-command"},"To see all local and remote branches, run this command:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git branch -a\n")),(0,a.kt)("h2",{id:"update-fork-of-github"},"Update fork of github"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Option 2 - GitHub CLI")),(0,a.kt)("p",null,"To update the remote fork from its parent, use the ",(0,a.kt)("inlineCode",{parentName:"p"},"gh repo sync")," subcommand and supply your fork name as argument."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ gh repo sync owner/cli-fork\n")),(0,a.kt)("p",null,"If the changes from the upstream repository cause conflict then the GitHub CLI can't sync. You can set the ",(0,a.kt)("inlineCode",{parentName:"p"},"-force")," flag to overwrite the destination branch."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://github.com/cli/cli#installation"},"How to Install GitHub CLI")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://cli.github.com/manual/"},"GitHub CLI Manual"))),(0,a.kt)("hr",null),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Option 3 - Command Line")),(0,a.kt)("p",null,"Before syncing one's fork with an upstream repository, one must ",(0,a.kt)("a",{parentName:"p",href:"https://docs.github.com/en/pull-requests/collaborating-with-pull-requests/working-with-forks/configuring-a-remote-for-a-fork"},"configure a remote that points to the upstream repository")," in Git."),(0,a.kt)("p",null,"1 Open Git Bash."),(0,a.kt)("p",null,"2 Change the current working directory to your local project."),(0,a.kt)("p",null,"3 Fetch the branches and their respective commits from the upstream repository. Commits to BRANCHNAME will be stored in the local branch upstream/BRANCHNAME."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ git fetch upstream\n> remote: Counting objects: 75, done.\n> remote: Compressing objects: 100% (53/53), done.\n> remote: Total 62 (delta 27), reused 44 (delta 9)\n> Unpacking objects: 100% (62/62), done.\n> From https://github.com/ORIGINAL_OWNER/ORIGINAL_REPOSITORY\n>  * [new branch]      main     -> upstream/main\n")),(0,a.kt)("p",null,"4 Check out your fork's local default branch - in this case, we use main."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ git checkout main\n> Switched to branch 'main'\n")),(0,a.kt)("p",null,"5 Merge the changes from the upstream default branch - in this case, upstream/main - into your local default branch. This brings your fork's default branch into sync with the upstream repository, without losing your local changes."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ git merge upstream/main\n> Updating a422352..5fdff0f\n> Fast-forward\n>  README                    |    9 -------\n>  README.md                 |    7 ++++++\n>  2 files changed, 7 insertions(+), 9 deletions(-)\n>  delete mode 100644 README\n>  create mode 100644 README.md\n")),(0,a.kt)("p",null,"If one's local branch didn't have any unique commits, Git will instead perform a \"fast-forward\":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"$ git merge upstream/main\n> Updating 34e91da..16c56ad\n> Fast-forward\n>  README.md                 |    5 +++--\n>  1 file changed, 3 insertions(+), 2 deletions(-)\n")),(0,a.kt)("h2",{id:"git-clone-sub-folder"},"Git Clone Sub-folder"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"1.  Navigate to the folder where you'd like to clone the subdirectory.\n2.  Open `cmd` and run the following commands.\n\ngit clone --filter=blob:none --sparse %your-git-repo-url%\ngit sparse-checkout add %subdirectory-to-be-cloned%\ncd %your-subdirectory%\n")),(0,a.kt)("p",null,"Voila! Now you have cloned only the subdirectory that you want!"),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Explanation - What are these commands doing really?")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git clone --filter=blob:none --sparse %your-git-repo-url%\n")),(0,a.kt)("p",null,"In the above command,"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"--filter=blob:none")," => You tell git that you only want to clone the metadata files. This way git collects the basic branch details and other meta from remote, which will ensure that your future checkouts from origin are smooth."),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("inlineCode",{parentName:"li"},"--sparse")," => Tell git that this is a sparse clone. Git will checkout only the root directory in this case.")),(0,a.kt)("p",null,"Now git is informed with the metadata and ready to checkout any subdirectories/files that you want to work with."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git sparse-checkout add gui-workspace ==> Checkout folder\n\ngit sparse-checkout add gui-workspace/assets/logo.png ==> Checkout a file\n")),(0,a.kt)("h2",{id:"create-branch-from"},"Create branch from"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre"},"git checkout -b new-branch from-branch\n")))}m.isMDXComponent=!0}}]);