"use strict";(self.webpackChunkapp_src=self.webpackChunkapp_src||[]).push([[2624],{60708:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>c,contentTitle:()=>i,default:()=>d,frontMatter:()=>t,metadata:()=>l,toc:()=>o});var s=n(85893),r=n(11151);const t={id:"setup-elastic-search-and-kibana-open-source",title:"Setting up Elasticsearch and Kibana (Open Source)",tags:["kibana","elastic-search","rancher-desktop","oss","open-source","setup"]},i="Introduction",l={id:"programming/rancher-desktop/setup-elastic-search-and-kibana-open-source",title:"Setting up Elasticsearch and Kibana (Open Source)",description:"If you're eager to explore Elasticsearch, the renowned open-source search engine built upon the Lucene library, the best",source:"@site/docs/programming/rancher-desktop/setup-elastic-search-and-kibana-open-source.md",sourceDirName:"programming/rancher-desktop",slug:"/programming/rancher-desktop/setup-elastic-search-and-kibana-open-source",permalink:"/app/docs/programming/rancher-desktop/setup-elastic-search-and-kibana-open-source",draft:!1,unlisted:!1,tags:[{label:"kibana",permalink:"/app/docs/tags/kibana"},{label:"elastic-search",permalink:"/app/docs/tags/elastic-search"},{label:"rancher-desktop",permalink:"/app/docs/tags/rancher-desktop"},{label:"oss",permalink:"/app/docs/tags/oss"},{label:"open-source",permalink:"/app/docs/tags/open-source"},{label:"setup",permalink:"/app/docs/tags/setup"}],version:"current",frontMatter:{id:"setup-elastic-search-and-kibana-open-source",title:"Setting up Elasticsearch and Kibana (Open Source)",tags:["kibana","elastic-search","rancher-desktop","oss","open-source","setup"]},sidebar:"docsSidebar",previous:{title:"Rancher Desktop",permalink:"/app/docs/category/rancher-desktop"},next:{title:"Selenium",permalink:"/app/docs/category/selenium"}},c={},o=[{value:"1. Setup Elasticsearch and Kibana",id:"1-setup-elasticsearch-and-kibana",level:3},{value:"2. Adding the Jetstack Helm Repository",id:"2-adding-the-jetstack-helm-repository",level:3},{value:"3. Updating Your Local Helm Chart Repository Cache",id:"3-updating-your-local-helm-chart-repository-cache",level:3},{value:"4. Installing Cert-Manager Helm Chart",id:"4-installing-cert-manager-helm-chart",level:3},{value:"5. Deploying Rancher Cluster Manager via Helm",id:"5-deploying-rancher-cluster-manager-via-helm",level:3},{value:"6. Retrieving the Rancher Dashboard Password",id:"6-retrieving-the-rancher-dashboard-password",level:3},{value:"7. Accessing the Rancher Dashboard",id:"7-accessing-the-rancher-dashboard",level:3},{value:"8. Adding the Elastic Helm Repository",id:"8-adding-the-elastic-helm-repository",level:3},{value:"9. Configuring Elasticsearch Deployment",id:"9-configuring-elasticsearch-deployment",level:3},{value:"10. Configuring Kibana Deployment",id:"10-configuring-kibana-deployment",level:3},{value:"11. Setting Up Ingress",id:"11-setting-up-ingress",level:3},{value:"12. Accessing Kibana",id:"12-accessing-kibana",level:3},{value:"13. Setting Up Port Forwarding in Rancher Desktop",id:"13-setting-up-port-forwarding-in-rancher-desktop",level:3}];function h(e){const a={a:"a",code:"code",h1:"h1",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.a)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.h1,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsxs)(a.p,{children:["If you're eager to explore Elasticsearch, the renowned open-source search engine built upon the Lucene library, the best\nway to get started is by installing it on your local machine. While the\nofficial ",(0,s.jsx)(a.a,{href:"https://www.elastic.co/guide/en/elasticsearch/reference/current/rpm.html",children:"Elasticsearch website"})," provides\ncomprehensive installation instructions, they may contain more details than necessary for beginners. In this guide,\nwe'll simplify the process for you."]}),"\n",(0,s.jsx)(a.h1,{id:"step-by-step-guide",children:"Step-by-Step Guide"}),"\n",(0,s.jsx)(a.h3,{id:"1-setup-elasticsearch-and-kibana",children:"1. Setup Elasticsearch and Kibana"}),"\n",(0,s.jsxs)(a.p,{children:["For a detailed step-by-step guide on setting up Elasticsearch and Kibana, follow\nthis ",(0,s.jsx)(a.a,{href:"https://itnext.io/elasticsearch-kibana-on-k8s-w-rancher-desktop-rancher-cluster-manager-2-6-f155c86164c0",children:"Setup Guide"}),"\n."]}),"\n",(0,s.jsx)(a.h3,{id:"2-adding-the-jetstack-helm-repository",children:"2. Adding the Jetstack Helm Repository"}),"\n",(0,s.jsx)(a.p,{children:"To start, add the Jetstack Helm repository to your Helm configuration:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"helm repo add jetstack https://charts.jetstack.io\n"})}),"\n",(0,s.jsx)(a.h3,{id:"3-updating-your-local-helm-chart-repository-cache",children:"3. Updating Your Local Helm Chart Repository Cache"}),"\n",(0,s.jsx)(a.p,{children:"Ensure that your local Helm chart repository cache is up-to-date:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"helm repo update\n"})}),"\n",(0,s.jsx)(a.h3,{id:"4-installing-cert-manager-helm-chart",children:"4. Installing Cert-Manager Helm Chart"}),"\n",(0,s.jsx)(a.p,{children:"Cert-Manager is essential for managing TLS certificates. Install it using Helm:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"helm install cert-manager jetstack/cert-manager --namespace cert-manager --create-namespace --set installCRDs=true\n--version v1.9.1 --wait\n"})}),"\n",(0,s.jsx)(a.h3,{id:"5-deploying-rancher-cluster-manager-via-helm",children:"5. Deploying Rancher Cluster Manager via Helm"}),"\n",(0,s.jsx)(a.p,{children:"Rancher Cluster Manager is a powerful tool for managing Kubernetes clusters. Deploy it with Helm:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:'RANCHER_SERVER_HOSTNAME="rancher.localhost"\nhelm repo add rancher-latest https://releases.rancher.com/server-charts/latest\nhelm repo update\nkubectl create namespace cattle-system\nhelm install rancher rancher-latest/rancher --namespace cattle-system --set hostname=${RANCHER_SERVER_HOSTNAME} --set\nbootstrapPassword=admin --wait\n'})}),"\n",(0,s.jsx)(a.h3,{id:"6-retrieving-the-rancher-dashboard-password",children:"6. Retrieving the Rancher Dashboard Password"}),"\n",(0,s.jsx)(a.p,{children:"To access the Rancher Dashboard, you'll need to retrieve the admin password:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"kubectl get secret --namespace cattle-system bootstrap-secret -o\ngo-template='{{.data.bootstrapPassword|base64decode}}{{ \"\\n\" }}'\n"})}),"\n",(0,s.jsx)(a.h3,{id:"7-accessing-the-rancher-dashboard",children:"7. Accessing the Rancher Dashboard"}),"\n",(0,s.jsxs)(a.p,{children:["Visit the Rancher Dashboard at ",(0,s.jsx)(a.a,{href:"https://rancher.localhost/",children:"Rancher Dashboard"}),"."]}),"\n",(0,s.jsx)(a.h3,{id:"8-adding-the-elastic-helm-repository",children:"8. Adding the Elastic Helm Repository"}),"\n",(0,s.jsx)(a.p,{children:"Add the Elastic Helm repository to your Helm configuration:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"helm repo add elastic https://helm.elastic.co\n"})}),"\n",(0,s.jsx)(a.h3,{id:"9-configuring-elasticsearch-deployment",children:"9. Configuring Elasticsearch Deployment"}),"\n",(0,s.jsx)(a.p,{children:"Set up the Elasticsearch deployment using the following image:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"docker.elastic.co/elasticsearch/elasticsearch-oss:7.10.2\n"})}),"\n",(0,s.jsxs)(a.p,{children:["Make sure to open ports ",(0,s.jsx)(a.code,{children:"9200"})," and ",(0,s.jsx)(a.code,{children:"9300"})," and set the service type to Cluster IP. Additionally, add the following\nenvironment variable:"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"discovery.type=single-node\n"})}),"\n",(0,s.jsx)(a.h3,{id:"10-configuring-kibana-deployment",children:"10. Configuring Kibana Deployment"}),"\n",(0,s.jsx)(a.p,{children:"Configure the Kibana deployment with the following image:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"docker.elastic.co/kibana/kibana-oss:7.10.2\n"})}),"\n",(0,s.jsxs)(a.p,{children:["Open port ",(0,s.jsx)(a.code,{children:"5601"})," and set the service type to Cluster IP. Set the following environment variable to connect to\nElasticsearch:"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"ELASTICSEARCH_HOSTS=http://es:9200\n"})}),"\n",(0,s.jsx)(a.h3,{id:"11-setting-up-ingress",children:"11. Setting Up Ingress"}),"\n",(0,s.jsx)(a.p,{children:"For Kibana, set up an Ingress with the following details:"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:"Namespace: es"}),"\n",(0,s.jsx)(a.li,{children:"Name: kibana.rancher.localhost"}),"\n",(0,s.jsx)(a.li,{children:"Rules.Request Host: kibana.rancher.localhost"}),"\n",(0,s.jsx)(a.li,{children:"Rules.Pods.Path: /"}),"\n",(0,s.jsx)(a.li,{children:"Rules.Pods.Target Service: kibana (select)"}),"\n",(0,s.jsx)(a.li,{children:"Rules.Pods.Port: 5601 (select)"}),"\n"]}),"\n",(0,s.jsx)(a.p,{children:"For Elasticsearch, set up Ingress with the following details:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-shell",children:"es.rancher.localhost\nPort 9200\n"})}),"\n",(0,s.jsx)(a.h3,{id:"12-accessing-kibana",children:"12. Accessing Kibana"}),"\n",(0,s.jsxs)(a.p,{children:["Access Kibana at ",(0,s.jsx)(a.a,{href:"http://kibana.rancher.localhost",children:"Kibana"}),"."]}),"\n",(0,s.jsx)(a.h3,{id:"13-setting-up-port-forwarding-in-rancher-desktop",children:"13. Setting Up Port Forwarding in Rancher Desktop"}),"\n",(0,s.jsx)(a.p,{children:"Configure port forwarding according to your Elasticsearch and Kibana configurations."})]})}function d(e={}){const{wrapper:a}={...(0,r.a)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},11151:(e,a,n)=>{n.d(a,{Z:()=>l,a:()=>i});var s=n(67294);const r={},t=s.createContext(r);function i(e){const a=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function l(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(t.Provider,{value:a},e.children)}}}]);